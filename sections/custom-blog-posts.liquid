<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<section class="ct-blog" style="background-color: {{section.settings.color_bg}}">
  <h2>{{ section.settings.heading }}</h2>

  {% assign blog = section.settings.blog %}

  <ul class="page-width">
    <div class="swiper swiper-slider">
      <div class="swiper-wrapper">
        {% for article in blog.articles %}
          <div class="swiper-slide">
            <li>
              <a href="{{ article.url }}">
                <div class="blog-img">
                  <img src="{{ article.image | image_url }}" alt="{{ article.title }}">
                </div>
                <div class="blog-content">
                  <h3>{{ article.title }}</h3>
                  <p>{{ article.content }}</p>
                </div>
              </a>
            </li>
          </div>
        {% endfor %}
      </div>

      <span class="swiper-pagination"></span>
      <span class="swiper-button-prev"></span>
      <span class="swiper-button-next"></span>
    </div>
  </ul>
</section>

<style>
   ul.blog-post-list {
     display: flex;
     width: 100%;
     overflow: hidden;
     justify-content: space-between;
   }
   ul.blog-post-list  li {
     /* width: 33%; */
     list-style: none;

   }
  .ct-blog img{
     width:100%;
     height: 200px;
     object-fit: cover;
   }
   h2{ text-align: center;}
   section {
     padding-top: {{ section.settings.padding_top }}px;
     padding-bottom: {{ section.settings.padding_bottom }}px;
   }
</style>

<script>
      const swiper = new Swiper(".swiper-slider", {
    // Optional parameters
    centeredSlides: true,
    slidesPerView: 1,
    grabCursor: true,
    freeMode: false,
    loop: true,
    mousewheel: false,
    keyboard: {
      enabled: true
    },

    // Enabled autoplay mode
    // autoplay: {
    //   delay: 5000,
    //   disableOnInteraction: false
    // },

    // If we need pagination
    pagination: {
      el: ".swiper-pagination",
      dynamicBullets: false,
      clickable: true
    },

    // If we need navigation
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev"
    },

    // Responsive breakpoints
    breakpoints: {
      640: {
        slidesPerView: 2,
        spaceBetween: 10
      },
      1024: {
        slidesPerView: 3,
        spaceBetween: 10
      }
    }
  });
</script>

{% schema %}
{
  "name": "Custom Blog Posts",
  "settings": [
    {
    "type":"text",
    "id":"heading",
     "label":"Heading"
    },
    {
      "type":"blog",
      "id": "blog",
      "label":"Select Blog"
    },
    {
    "type": "color",
    "id": "color_bg",
    "label": "BG color",
    "default": "#FFFFFF"
    },
    {
    "type": "range",
    "id": "padding_top",
    "min": 0,
    "max": 100,
    "unit": "px",
    "label": "padding_top",
    "default": 40
  },
  {
    "type": "range",
    "id": "padding_bottom",
    "min": 0,
    "max": 100,
    "unit": "px",
    "label": "padding_bottom",
    "default": 40
  }
  ],
  "presets":[
    {
      "name": "Custom Blog Posts"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
